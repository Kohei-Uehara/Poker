# 🎰 Console Poker Battle - CPUと戦う会話型ポーカーゲーム

## 🃏 概要

**Console Poker Battle** は、コマンドライン上で動作する、CPUたちとの心理戦型ポーカーゲームです。
プレイヤーはチップを賭けてディーラーと勝負し、全5回戦を通して他の席のCPUたちと**最終チップ枚数を競い合います**。

単なるカード勝負ではなく、CPUの**性格・気分・発言**を通じて、彼らの戦略を読み解く“駆け引き”が楽しめるのが特徴です。

（大学生が講義で作成したものです。温かい目でご覧ください！）

---

## 🎮 ゲームの特徴

* **CPUとの5回勝負形式**

  * あなた + 3人のCPU + ディーラーの5人対戦。
  * 各ラウンドでベット → カード交換 → レイズ or フォールド の流れを繰り返します。

* **個性豊かなCPUたち**

  * 紳士、ギャンブラー、淑女など、各CPUは独自のキャラクター性を持ちます。
  * 性格ごとにカード交換や賭け方の傾向が異なり、勝敗によって**気分**が変動します。
  * ノっているCPUは大胆にベット・交換を行い、落ち込むと守りに入るなど、プレイスタイルが変化します。

* **会話コマンドによる心理戦**

  * 「煽てる」「挑発する」「観察する」といった会話コマンドを通じてCPUの感情を揺さぶり、手札の強さや気分を探ることが可能。
  * 発言内容から、CPUの戦略を推察する楽しさがあります。

* **成績記録機能**

  * 各対戦結果はファイルに自動記録されます（CSV形式）。
  * 過去の成績を呼び出して、自分の上達や勝率を確認できます。

---

## 🧩 システム構成

### 主要クラス

| クラス名                              | 役割概要                                           |
| --------------------------------- | ---------------------------------------------- |
| **Main / HomeCommand**            | メインメニューを制御。初期設定、ゲーム開始、成績確認、終了などを担当。            |
| **PokerTable**                    | 山札、プレイヤー席、ディーラーを統括し、ゲーム進行を管理。                  |
| **Player / CPU**                  | 各プレイヤーの共通基底クラス。CPUは `Character` に基づいた発言・行動を行う。 |
| **Character（紳士・ギャンブラー・淑女・ディーラー）** | CPUの性格・気分変化・台詞を定義。感情によって行動を変化。                 |
| **Card / CardDeck**               | トランプの管理。フルデッキ生成・シャッフル・カード配布を行う。                |
| **PokerHand**                     | 手札の役を判定。役名表示やスコア計算を担当。                         |
| **PlayersSeat / ScoreBoard**      | 各プレイヤーのチップ、ベット、スコア、勝率を管理。                      |
| **Keyboard**                      | 入力ユーティリティ（数値・文字列入力、待機など）。                      |

---

## ⚙️ 実行方法

### 前提環境

* **Java 17 以降**
* コンソール環境（ターミナルまたはコマンドプロンプト）

### 実行手順

1. コンパイル済みの JAR ファイルを用意
   例：`PokerGame.jar`

2. 以下のコマンドを実行：

   ```bash
   java -jar PokerGame.jar
   ```

3. メニューが表示されるので、数字で操作します：

   ```
   1. ゲームを始める
   2. 過去の成績を見る
   3. 終了する
   ```

---

## 🗂️ ゲームの流れ

1. **初期設定**

   * プレイヤー名入力（省略時は「名無しユーザ」）
   * 3人のCPU＋ディーラーが自動生成され、ポーカーテーブルが準備されます。

2. **ゲーム開始**

   * 5回勝負で進行。
   * 各ラウンド：

     1. チップを賭ける
     2. カードを交換する
     3. CPUたちの行動を観察・会話
     4. レイズ or フォールドを決断
     5. ディーラーと勝負！

3. **結果表示**

   * 各ラウンド後に勝敗と現在のチップを表示。

4. **成績記録**

   * 対戦終了後、結果をCSV形式で記録。
   * 過去成績を読み出して閲覧可能。

---

## 💬 会話例
**手札交換フェーズ**
```
交換するカードを決めましょう．コマンドを入力してください．
[1:手札，2:会話，3:役一覧, 0:交換]：2

相手を選んでください．
----------------
1. CPU1
2. CPU2
3. CPU3
4. ディーラー
----------------
数字を入力：4

内容を選んでください．
----------------
1. おだてる
2. 挑発する
----------------
数字を入力：1

プレイヤー太郎「
　今日は調子がいいですね．

ディーラー「
　わたしはいつも通りですよ．
```
**宣言フェーズ**
```
レイズ・フォールドを宣言しましょう．コマンドを入力してください．
[1:用語解説, 2:観察, 0:宣言]：2

相手を選んでください．
----------------
1. CPU1
2. CPU2
3. CPU3
4. ディーラー
----------------
数字を入力：1

プレイヤー太郎「
　じーっ

CPU1「
　むむむ，悩ましい...（ボソボソ）
```
---

## 📊 成績データの保存形式

ファイル：`records.csv`（例）

```
2025-10-04 15:42:12, Alice, 350, 12, 0.60, フラッシュ
```

| 項目    | 内容        |
| ----- | --------- |
| 時刻    | 対戦終了日時    |
| ユーザ名  | プレイヤー名    |
| スコア   | 総合スコア     |
| チップ枚数 | 最終保有チップ   |
| 勝率    | 全5戦のうちの勝率 |
| 一番強い役 | 出した最高役名   |

---

## 🧠 開発メモ

* 開発環境：Java + CLI
* 設計：Visual Paradigm による UML モデリング
* 主な責務分割：

  * UI層：HomeCommand, Keyboard
  * ドメイン層：PokerTable, Player, CPU, Character, PokerHand
  * 永続化層：ScoreBoard（CSV書き出し）
* 拡張性：CPUのキャラクタークラスを追加することで新たなAI性格を導入可能

---

## ✨ 作者コメント

> トランプを使ったゲームを作りなさいという課題だったのですが、心理戦がないとカードゲームとは呼べないと思い、張り切って台詞まで用意しました。お楽しみいただけますと幸いです。
